{"ast":null,"code":"import _classCallCheck from \"/home/thevpaliy/projects/slack/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/thevpaliy/projects/slack/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/thevpaliy/projects/slack/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/thevpaliy/projects/slack/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/thevpaliy/projects/slack/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/thevpaliy/projects/slack/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/thevpaliy/projects/slack/src/components/ScrollBar.js\";\nimport React, { Component } from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport { SpringSystem, MathUtil } from 'rebound';\n\nvar ScrollBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ScrollBar, _Component);\n\n  function ScrollBar(props) {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ScrollBar);\n\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ScrollBar)).call.apply(_getPrototypeOf2, [this, props].concat(rest)));\n    _this.handleSpringUpdate = _this.handleSpringUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ScrollBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.springSystem = new SpringSystem();\n      this.spring = this.springSystem.createSpring();\n      this.spring.addListener({\n        onSpringUpdate: this.handleSpringUpdate\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.springSystem.deregisterSpring(this.spring);\n      this.springSystem.removeAllListeners();\n      this.springSystem = undefined;\n      this.spring.destroy();\n      this.spring = undefined;\n    }\n  }, {\n    key: \"getScrollTop\",\n    value: function getScrollTop() {\n      return this.refs.scrollbars.getScrollTop();\n    }\n  }, {\n    key: \"getScrollHeight\",\n    value: function getScrollHeight() {\n      return this.refs.scrollbars.getScrollHeight();\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.refs.scrollbars.getHeight();\n    }\n  }, {\n    key: \"scrollTop\",\n    value: function scrollTop(top) {\n      var scrollbars = this.refs.scrollbars;\n      var scrollTop = scrollbars.getScrollTop();\n      var scrollHeight = scrollbars.getScrollHeight();\n      var val = MathUtil.mapValueInRange(top, 0, scrollHeight, scrollHeight * 0.2, scrollHeight * 0.8);\n      this.spring.setCurrentValue(scrollTop).setAtRest();\n      this.spring.setEndValue(val);\n    }\n  }, {\n    key: \"handleSpringUpdate\",\n    value: function handleSpringUpdate(spring) {\n      var scrollbars = this.refs.scrollbars;\n      var val = spring.getCurrentValue();\n      scrollbars.scrollTop(val);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Scrollbars, Object.assign({}, this.props, {\n        ref: \"scrollbars\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ScrollBar;\n}(Component);\n\nexport { ScrollBar as default };","map":{"version":3,"sources":["/home/thevpaliy/projects/slack/src/components/ScrollBar.js"],"names":["React","Component","Scrollbars","SpringSystem","MathUtil","ScrollBar","props","rest","handleSpringUpdate","bind","springSystem","spring","createSpring","addListener","onSpringUpdate","deregisterSpring","removeAllListeners","undefined","destroy","refs","scrollbars","getScrollTop","getScrollHeight","getHeight","top","scrollTop","scrollHeight","val","mapValueInRange","setCurrentValue","setAtRest","setEndValue","getCurrentValue"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,YAAT,EAAuBC,QAAvB,QAAuC,SAAvC;;IAEqBC,S;;;;;AACjB,qBAAYC,KAAZ,EAA4B;AAAA;;AAAA;;AAAA;;AAAA,sCAANC,IAAM;AAANA,MAAAA,IAAM;AAAA;;AACxB,iIAAMD,KAAN,SAAgBC,IAAhB;AACA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,uDAA1B;AAFwB;AAG3B;;;;wCAEmB;AAChB,WAAKC,YAAL,GAAoB,IAAIP,YAAJ,EAApB;AACA,WAAKQ,MAAL,GAAc,KAAKD,YAAL,CAAkBE,YAAlB,EAAd;AACA,WAAKD,MAAL,CAAYE,WAAZ,CAAwB;AAAEC,QAAAA,cAAc,EAAE,KAAKN;AAAvB,OAAxB;AACH;;;2CAEsB;AACnB,WAAKE,YAAL,CAAkBK,gBAAlB,CAAmC,KAAKJ,MAAxC;AACA,WAAKD,YAAL,CAAkBM,kBAAlB;AACA,WAAKN,YAAL,GAAoBO,SAApB;AACA,WAAKN,MAAL,CAAYO,OAAZ;AACA,WAAKP,MAAL,GAAcM,SAAd;AACH;;;mCAEc;AACX,aAAO,KAAKE,IAAL,CAAUC,UAAV,CAAqBC,YAArB,EAAP;AACH;;;sCAEiB;AACd,aAAO,KAAKF,IAAL,CAAUC,UAAV,CAAqBE,eAArB,EAAP;AACH;;;gCAEW;AACR,aAAO,KAAKH,IAAL,CAAUC,UAAV,CAAqBG,SAArB,EAAP;AACH;;;8BAESC,G,EAAK;AAAA,UACHJ,UADG,GACY,KAAKD,IADjB,CACHC,UADG;AAEX,UAAMK,SAAS,GAAGL,UAAU,CAACC,YAAX,EAAlB;AACA,UAAMK,YAAY,GAAGN,UAAU,CAACE,eAAX,EAArB;AACA,UAAMK,GAAG,GAAGvB,QAAQ,CAACwB,eAAT,CAAyBJ,GAAzB,EAA8B,CAA9B,EAAiCE,YAAjC,EAA+CA,YAAY,GAAG,GAA9D,EAAmEA,YAAY,GAAG,GAAlF,CAAZ;AACA,WAAKf,MAAL,CAAYkB,eAAZ,CAA4BJ,SAA5B,EAAuCK,SAAvC;AACA,WAAKnB,MAAL,CAAYoB,WAAZ,CAAwBJ,GAAxB;AACH;;;uCAEkBhB,M,EAAQ;AAAA,UACfS,UADe,GACA,KAAKD,IADL,CACfC,UADe;AAEvB,UAAMO,GAAG,GAAGhB,MAAM,CAACqB,eAAP,EAAZ;AACAZ,MAAAA,UAAU,CAACK,SAAX,CAAqBE,GAArB;AACH;;;6BAEQ;AACL,aACI,oBAAC,UAAD,oBACQ,KAAKrB,KADb;AAEI,QAAA,GAAG,EAAC,YAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ;AAKH;;;;EArDkCL,S;;SAAlBI,S","sourcesContent":["import React, { Component } from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport { SpringSystem, MathUtil } from 'rebound';\n\nexport default class ScrollBar extends Component {\n    constructor(props, ...rest) {\n        super(props, ...rest);\n        this.handleSpringUpdate = this.handleSpringUpdate.bind(this);\n    }\n\n    componentDidMount() {\n        this.springSystem = new SpringSystem();\n        this.spring = this.springSystem.createSpring();\n        this.spring.addListener({ onSpringUpdate: this.handleSpringUpdate });\n    }\n\n    componentWillUnmount() {\n        this.springSystem.deregisterSpring(this.spring);\n        this.springSystem.removeAllListeners();\n        this.springSystem = undefined;\n        this.spring.destroy();\n        this.spring = undefined;\n    }\n\n    getScrollTop() {\n        return this.refs.scrollbars.getScrollTop();\n    }\n\n    getScrollHeight() {\n        return this.refs.scrollbars.getScrollHeight();\n    }\n\n    getHeight() {\n        return this.refs.scrollbars.getHeight();\n    }\n\n    scrollTop(top) {\n        const { scrollbars } = this.refs;\n        const scrollTop = scrollbars.getScrollTop();\n        const scrollHeight = scrollbars.getScrollHeight();\n        const val = MathUtil.mapValueInRange(top, 0, scrollHeight, scrollHeight * 0.2, scrollHeight * 0.8);\n        this.spring.setCurrentValue(scrollTop).setAtRest();\n        this.spring.setEndValue(val);\n    }\n\n    handleSpringUpdate(spring) {\n        const { scrollbars } = this.refs;\n        const val = spring.getCurrentValue();\n        scrollbars.scrollTop(val);\n    }\n\n    render() {\n        return (\n            <Scrollbars\n                {...this.props}\n                ref=\"scrollbars\"/>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}